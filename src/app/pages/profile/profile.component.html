<ng-template #noProfile>
  <app-loading *ngIf="loading"></app-loading>
  <app-error *ngIf="error"></app-error>
</ng-template>

<ng-container *ngIf="(user$ | async) as user else noProfile">
  <h2>{{ user.name }}</h2>
  <ul>
    <li *ngFor="let profileProp of makeArray(user)">
      <code>{{ profileProp }}</code>
    </li>
  </ul>
</ng-container>
